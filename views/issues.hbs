<h1 class="page-title">Issue Manager</h1>

<div class="page-notes">
  <div>Notes:</div>
  <ul>
      <li>Click the row to update/delete</li>
  </ul> 
</div>

{{!-- Handlebars call to add_project_modal.hbs partial --}}
{{> add_issue_modal}}

<table>
  <thead>
    <tr>
      <th scope="col">Issue ID</th>
      <th scope="col">Issue Name</th>
      <th scope="col">Description</th>
      <th scope="col">Project ID</th>
      <th scope="col">Status ID</th>
      <th scope="col">Priority ID</th>
      <th scope="col">Date Raised</th>
      <th scope="col">Date Closed</th>
    </tr>
  </thead>
  <tbody>
        {{!-- Handlebars building dynamic table from app.get request--}}
    {{#each issues}}
      {{#if issueID}}
        <tr class="table-issues">
          <td scope="row" class="table-id">{{issueID}}</td>
          <td class="table-name">{{name}}</td>
          <td class="table-description">{{description}}</td>
          {{#if projectID}}
            <td class="table-project-id">{{projectID}} &nbsp ({{projectName}})</td>
          {{else}}
            <td class="table-project-id">{{projectID}}</td>
          {{/if}}
          {{#if statusID}}
            <td class="table-status-id">{{statusID}} &nbsp ({{statusType}})</td>
          {{else}}
            <td class="table-status-id">{{statusID}}</td>
          {{/if}}
          {{#if priorityID}}
            <td class="table-priority-id">{{priorityID}} &nbsp ({{priorityType}})</td>
          {{else}}
            <td class="table-priority-id">{{priorityID}}</td>
          {{/if}}
          <td class="table-date-raised date-cell">{{dateRaised}}</td>
          <td class="table-date-closed date-cell">{{dateClosed}}</td>
          {{!-- <td class="assigned-users">
            <span class="users-btn material-icons">people_alt</span>
          </td> --}}
        </tr>
      {{/if}}
    {{/each}}
  </tbody>
</table>

{{!-- Handlebars call to view_assigned_users_modal.hbs partial --}}
{{!-- {{> issues_assigned_users_modal}} --}}

{{!-- Handlebars call to update_project_modal.hbs partial --}}
{{> update_issue_modal}}